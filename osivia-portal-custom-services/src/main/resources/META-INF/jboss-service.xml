<server>

 <mbean code="org.osivia.portal.core.deploiement.ParametresPortailDeploymentManager" name="pia:service=ConfigDeployer"
          xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>

      <depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject
      </depends>
      <depends optional-attribute-name="ContentProviderRegistry" proxy-type="attribute">
         portal:service=ContentProviderRegistry
      </depends>
      <depends optional-attribute-name="PortalObjectEntityResolver" proxy-type="attribute">portal:service=EntityResolver
      </depends>
      <depends optional-attribute-name="CoordinationConfigurator" proxy-type="attribute">
         portal:service=CoordinationService
      </depends>
  </mbean>

 <mbean code="org.osivia.portal.core.personnalisation.PIACustomizationManagerService" name="portal:service=CustomizationManager"
          xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <depends optional-attribute-name="PortalAuthorizationManagerFactory" proxy-type="attribute">
         portal:service=PortalAuthorizationManagerFactory
      </depends>
      <depends optional-attribute-name="InstanceContainer" proxy-type="attribute">portal:container=Instance</depends>
      <depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject
      </depends>
      <depends>portal:service=Module,type=IdentityServiceController</depends>
      <attribute name="DashboardContextId">dashboard</attribute>
   </mbean>

	
	<mbean code="org.osivia.portal.core.portalcommands.DefaultCommandFactoryService"
		name="pia:commandFactory=Default" xmbean-dd=""
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
	</mbean>
	
	<mbean
		code="org.jboss.portal.core.controller.command.mapper.CommandFactoryDelegate"
		name="wwa:commandFactory=Delegate,path=Default" xmbean-dd=""
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
		<attribute name="Path">/commands</attribute>
		<depends optional-attribute-name="DelegatingFactory"
			proxy-type="attribute">portal:commandFactory=Delegating
		</depends>
		<depends optional-attribute-name="DelegateFactory" proxy-type="attribute">
			pia:commandFactory=Default</depends>
	</mbean>

	<mbean code="org.osivia.portal.core.portalcommands.DefaultURLFactory" name="pia:urlFactory=Default"
		xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
		<attribute name="Path">/commands</attribute>
		<depends optional-attribute-name="Factory" proxy-type="attribute">
			portal:urlFactory=Delegating</depends>
	</mbean>
	
	
	
	
	 <mbean code="org.osivia.portal.core.cms.CmsCommandFactoryService"
          name="pia:commandFactory=Cms" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   </mbean>
   
   
   <mbean code="org.jboss.portal.core.controller.command.mapper.CommandFactoryDelegate"
          name="pia:commandFactory=Delegate,path=cms" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <attribute name="Path">/cms</attribute>
      <depends optional-attribute-name="DelegatingFactory" proxy-type="attribute">portal:commandFactory=Delegating
      </depends>
      <depends optional-attribute-name="DelegateFactory" proxy-type="attribute">pia:commandFactory=Cms</depends>
   </mbean>
   
     <mbean code="org.osivia.portal.core.cms.CmsURLFactory" name="pia:urlFactory=Cms"
          xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <attribute name="Path">/cms</attribute>
      <depends optional-attribute-name="Factory" proxy-type="attribute">portal:urlFactory=Delegating</depends>
   </mbean>

   
	
	
	
	
	
	
	<mbean
		code="org.osivia.portal.core.assistantpage.AssistantPageCustomizerInterceptor"
		name="pia:service=Interceptor,type=Command,name=AssistantPageCustomizer"
		xmbean-dd=""
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
			<xmbean/>
			<attribute name="TargetContextPath">/osivia-portal-custom-web-assets</attribute>
  			<attribute name="PageSettingPath">/wizzard/pageSettings.jsp</attribute>
			<depends optional-attribute-name="ServiceLayout" proxy-type="attribute">portal:service=LayoutService</depends>
			<depends optional-attribute-name="ServiceTheme" proxy-type="attribute">portal:service=ThemeService</depends>
			<depends optional-attribute-name="AuthorizationDomainRegisrty" proxy-type="attribute">portal:service=AuthorizationDomainRegistry</depends>
			<depends optional-attribute-name="IdentityServiceController" proxy-type="attribute">portal:service=Module,type=IdentityServiceController</depends>
			<depends optional-attribute-name="InstanceContainer" proxy-type="attribute">portal:container=Instance</depends>
   	        <depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject</depends>
 			<depends optional-attribute-name="ProfilManager" proxy-type="attribute">pia:service=ProfilManager</depends>   
      		<depends optional-attribute-name="PortalAuthorizationManagerFactory" proxy-type="attribute">portal:service=PortalAuthorizationManagerFactory</depends> 			
 	</mbean>


  <mbean code="org.osivia.portal.core.page.PageCustomizerInterceptor"
          name="pia:service=Interceptor,type=Command,name=PageCustomizer" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <attribute name="ToolbarPath">/header/toolbar.jsp</attribute>
      <attribute name="BreadcrumbPath">/header/breadcrumb.jsp</attribute>
      <attribute name="SearchPath">/header/search.jsp</attribute>
      <attribute name="FooterPath">/footer/footer.jsp</attribute>      
      <!-- Overrides the value of core.login.namespace in config.xml  --><!--  attribute name="LoginNamespace">dashboard</attribute -->
      <depends optional-attribute-name="Config" proxy-type="attribute">portal:service=ServerConfig</depends>
      <depends optional-attribute-name="PortalAuthorizationManagerFactory" proxy-type="attribute">
         portal:service=PortalAuthorizationManagerFactory
      </depends>
      <depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject</depends>
      <depends optional-attribute-name="UrlFactory" proxy-type="attribute">pia:service=UrlFactory</depends>
      <depends optional-attribute-name="CacheService" proxy-type="attribute">pia:service=Cache</depends>
 	 <depends optional-attribute-name="Profiler" proxy-type="attribute">pia:service=ProfilerService</depends>
   	<depends optional-attribute-name="ProfilManager" proxy-type="attribute">pia:service=ProfilManager</depends>   
 <depends optional-attribute-name="ServicesCacheService" proxy-type="attribute">pia:service=CacheServices</depends>   	
 
 				        
      
   </mbean>
   
   
   
   
  <mbean code="org.osivia.portal.core.page.TabsCustomizerInterceptor"
          name="pia:service=Interceptor,type=Command,name=TabsCustomizer" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
       <attribute name="TabsPath">/header/tabs.jsp</attribute>
       <!-- Overrides the value of core.login.namespace in config.xml  --><!--  attribute name="LoginNamespace">dashboard</attribute -->
      <depends optional-attribute-name="Config" proxy-type="attribute">portal:service=ServerConfig</depends>
      <depends optional-attribute-name="PortalAuthorizationManagerFactory" proxy-type="attribute">
         portal:service=PortalAuthorizationManagerFactory
      </depends>
      <depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject</depends>
      <depends optional-attribute-name="UrlFactory" proxy-type="attribute">pia:service=UrlFactory</depends>
      <depends optional-attribute-name="CacheService" proxy-type="attribute">pia:service=Cache</depends>
 	 <depends optional-attribute-name="Profiler" proxy-type="attribute">pia:service=ProfilerService</depends>
   	<depends optional-attribute-name="ProfilManager" proxy-type="attribute">pia:service=ProfilManager</depends>   
 <depends optional-attribute-name="ServicesCacheService" proxy-type="attribute">pia:service=CacheServices</depends>   	
 
 				        
      
   </mbean>

  <mbean code="org.osivia.portal.core.pagemarker.PageMarkerInterceptor"
          name="pia:service=Interceptor,type=Command,name=PageMarkerInterceptor" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   				        
      
   </mbean>
   
     <mbean code="org.osivia.portal.core.security.AnonymousSecurityInterceptor"
          name="pia:service=Interceptor,type=Command,name=AnonymousSecurityInterceptor" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   				        
      
   </mbean>

  	
  	<mbean code="org.osivia.portal.core.portlets.interceptors.ParametresPortletInterceptor"
          name="pia:service=Interceptor,type=Portlet,name=ParametresPortletInterceptor" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   </mbean>
   
    <mbean code="org.osivia.portal.core.portlets.interceptors.ProfilerPortletInterceptor"
          name="pia:service=Interceptor,type=Portlet,name=ProfilerPortletInterceptor" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
 	 <depends optional-attribute-name="Profiler" proxy-type="attribute">pia:service=ProfilerService</depends>
   </mbean>
   
   
      <mbean code="org.osivia.portal.core.ajax.AjaxLoadingInterceptor"
          name="pia:service=Interceptor,type=Portlet,name=AjaxLoadingInterceptor" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   </mbean>
   
   
   	<mbean code="org.osivia.portal.core.tracker.CommandTrackerInterceptor"
		name="pia:service=Interceptor,type=Command,name=CommandTracker"
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean"
		xmbean-dd="">
		<xmbean />
			<depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>		
	</mbean>
	
	 <mbean code="org.osivia.portal.core.tracker.ServerTrackerInterceptor"
		name="pia:service=Interceptor,type=Server,name=ServerTracker"
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean"
		xmbean-dd="">
		<xmbean />
 			<depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>		
	</mbean>
	
	
	
	 <mbean code="org.osivia.portal.core.login.LoginInterceptor"
		name="pia:service=Interceptor,type=Server,name=ServerLogin"
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean"
		xmbean-dd="">
		<xmbean />	
	</mbean>
	

	<mbean code="org.osivia.portal.core.tracker.TrackerService" name="pia:service=Tracker"
		xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
	</mbean>


	<mbean
		code="org.osivia.portal.core.portalobjects.DynamicPortalObjectContainer"
		name="pia:service=DynamicPortalObjectContainer" xmbean-dd=""
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
			<depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>
	</mbean>
	
	
		
   <mbean code="org.osivia.portal.core.urls.PortalUrlFactory" name="pia:service=UrlFactory"
          xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
    <depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>
  	<depends optional-attribute-name="ProfilManager" proxy-type="attribute">pia:service=ProfilManager</depends>       
  </mbean>
	
	
<mbean code="org.osivia.portal.core.profils.ProfilManager" name="pia:service=ProfilManager"
          xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
  			<depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject</depends>  			
			<depends optional-attribute-name="IdentityServiceController" proxy-type="attribute">portal:service=Module,type=IdentityServiceController</depends>
			 <depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>
    		<depends optional-attribute-name="CacheService" proxy-type="attribute">pia:service=Cache</depends>
			 
  </mbean>
	
	
	
	
   <mbean code="org.osivia.portal.core.page.MonEspaceCommandFactoryService"
          name="pia:commandFactory=MonEspace" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   </mbean>
   
   <mbean code="org.jboss.portal.core.controller.command.mapper.CommandFactoryDelegate"
          name="portal:commandFactory=Delegate,path=MonEspace" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <attribute name="Path">/MonEspace</attribute>
      <depends optional-attribute-name="DelegatingFactory" proxy-type="attribute">portal:commandFactory=Delegating
      </depends>
      <depends optional-attribute-name="DelegateFactory" proxy-type="attribute">pia:commandFactory=MonEspace</depends>
   </mbean>
	
	
  <mbean code="org.osivia.portal.core.page.MonEspaceURLFactory" name="pia:urlFactory=MonEspace"
          xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <attribute name="Path">/MonEspace</attribute>
      <depends optional-attribute-name="Factory" proxy-type="attribute">portal:urlFactory=Delegating</depends>
   </mbean>
	
	
		<!-- Custom control policies : error management -->
	<mbean code="org.osivia.portal.core.error.CustomPageControlPolicy" 
		name="portal:service=ControlPolicy,type=Page"
		xmbean-dd="" 
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
		<depends optional-attribute-name="PortalObjectContainer"
			proxy-type="attribute">portal:container=PortalObject
		</depends>
	</mbean>

	<mbean code="org.osivia.portal.core.error.CustomPortalControlPolicy"
		name="portal:service=ControlPolicy,type=Portal" 
		xmbean-dd=""
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
		<depends optional-attribute-name="PortalObjectContainer"
			proxy-type="attribute">portal:container=PortalObject
		</depends>
	</mbean>	
	
		<mbean
		code="org.osivia.portal.core.error.CommandErrorInterceptor"
		name="pia:service=Interceptor,type=Command,name=Error"
		xmbean-dd=""
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
			<xmbean/>
 		
  	</mbean>
  	
  	<mbean	
		code="org.osivia.portal.core.mt.MultithreadService"
		name="pia:service=MultithreadService">
		
		<xmbean/>
		
		<depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>			
		<depends optional-attribute-name="Profiler" proxy-type="attribute">pia:service=ProfilerService</depends>			
		
	</mbean>
	
	
	  <mbean code="org.osivia.portal.core.profiler.ProfilerService"
          name="pia:service=ProfilerService" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   </mbean>
	
   
  	<mbean
      code="org.osivia.portal.core.mt.ContextDispatcherWrapperInterceptor"
      name="pia:service=Interceptor,type=Portlet,name=ContextDispatcherWrapperInterceptor"
      xmbean-dd=""
      xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
          <depends
         optional-attribute-name="ServletContainerFactory"
         proxy-type="attribute">portal:service=ServletContainerFactory</depends>
         <depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>
   </mbean>
   
   		<mbean
		code="org.osivia.portal.core.mt.MTLoggerInterceptor"
		name="pia:service=Interceptor,type=Command,name=Logger"
		xmbean-dd=""
		xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
			<xmbean/>
 		
  	</mbean>
 
   <mbean code="org.osivia.portal.core.portlets.interceptors.ConsumerCacheInterceptor"
          name="pia:service=Interceptor,type=Portlet,name=ConsumerCache" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <depends optional-attribute-name="ServicesCacheService" proxy-type="attribute">pia:service=CacheServices</depends>
      
   </mbean>
   
   
      <mbean code="org.osivia.portal.core.portlets.interceptors.PortletAttributesController"
          name="pia:service=Interceptor,type=Portlet,name=PortletAttributesController" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
     
   </mbean>
   
      <mbean code="org.osivia.portal.core.sessions.ContextTrackerInterceptor"
          name="pia:service=Interceptor,type=Portlet,name=ContextTracker" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   </mbean>

    <mbean code="org.osivia.portal.core.ajax.AjaxResponseHandler"
          name="portal:service=ResponseHandler,type=Ajax" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <depends optional-attribute-name="PageService" proxy-type="attribute">portal:service=PageService</depends>
      <depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject
      </depends>
   </mbean>
   
       
   <mbean code="org.osivia.portal.core.cache.CacheService" name="pia:service=Cache"
		xmbean-dd="" xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
		<xmbean />
    <depends optional-attribute-name="PiaTreeCache" proxy-type="attribute">pia:service=TreeCache</depends>
    <depends optional-attribute-name="HibernateTreeCache" proxy-type="attribute">portal:service=TreeCache,type=hibernate</depends>
 		
 </mbean>
	
 	
  	<mbean
		code="org.osivia.portal.core.cache.services.CacheService"
		name="pia:service=CacheServices">
	</mbean>
	
	<mbean
		code="org.osivia.portal.core.statut.StatutService"
		name="pia:service=StatutServices">
	</mbean>
	
	
  	<mbean code="org.osivia.portal.core.pagemarker.PortalDelegatingURLFactoryService"
          name="portal:urlFactory=Delegating" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
			 <depends optional-attribute-name="Tracker" proxy-type="attribute">pia:service=Tracker</depends>
      <xmbean/>
   </mbean>
   
     <mbean code="org.osivia.portal.core.pagemarker.PortalCommandFactory"
          name="portal:commandFactory=DefaultPortal" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
      <depends optional-attribute-name="NextFactory" proxy-type="attribute">portal:commandFactory=Delegating</depends>
      <depends optional-attribute-name="Container" proxy-type="attribute">portal:container=PortalObject</depends>
   </mbean>
	
	
	   <mbean code="org.osivia.portal.core.imports.ImportInterceptor"
          name="portal:service=Interceptor,type=Server,name=Import" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
   </mbean>
   
   	  <mbean code="org.osivia.portal.core.migration.MigrationService"
          name="pia:service=MigrationService" xmbean-dd=""
          xmbean-code="org.jboss.portal.jems.as.system.JBossServiceModelMBean">
      <xmbean/>
        <depends optional-attribute-name="PortalObjectContainer" proxy-type="attribute">portal:container=PortalObject
      </depends>
   </mbean>
	
</server>
   
