//
// OSIVIA Portal - Drawer component
// --------------------------------------------------


// Mixins
@import "../bootstrap/mixins.less";
// Media queries breakpoints
@import "media-queries-breakpoints.less";


.btn.drawer-toggle-btn {
    display: none;
}

.screen-wrapper() {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
}

@media screen and (max-width: @screen-xs-max) {
    html, body, .wrapper-outer, .wrapper-inner {
        .screen-wrapper();
    }
    
    header, footer {
        position: absolute;
        visibility: hidden;
        width: 100%;
    }
    
    .wrapper-outer {
        position: absolute;
        top: 0;
        left: 0;

        padding-top: 50px;
        
        .wrapper-inner {
            position: relative;

            & > * {
                height: 100%;
                overflow: auto;
            }
        }
    }
    
    #drawer {
        @drawer-width: 90%;
        
        position: absolute;
        top: 0;
        left: -@drawer-width;
        z-index: 120;
        
        height: 100%;
        width: @drawer-width;
        overflow: auto;
        
        background-color: #fff;
        
        .translate3d(@x: 0, @y: 0, @z: 0);
        .backface-visibility(@visibility: hidden);
        
        .transition-property(@transition-property: all);
        .transition-duration(@transition-duration: 300ms);
        .transition-timing-function(@timing-function: ease-out);
        
        &.active {
            .translate3d(@x: 100%, @y: 0, @z: 0);
        }
    }
    
    #drawer-shadowbox {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 110;
        
        background-color: #000;
        opacity: 0;
        
        .screen-wrapper();
    }
}


#drawer-toolbar {
    .drawer-toolbar-header {
        @header-heigth: 40px;
        @header-size: 20px;
        
        padding-top: 10px;
        padding-bottom: 10px;
        
        background-color: #222;
        
        &, a.btn {
            &, &:hover, &:focus {
                color: #fff;
                text-decoration: none;
            }
        }

        > div {
            position: relative;
            heigth: @header-heigth;
        }
        
        .drawer-toolbar-title, .drawer-toolbar-search {
            .transition-property(@transition-property: opacity);
            .transition-duration(@transition-duration: 200ms);
        }
        
        .drawer-toolbar-title {
            .media-body {
                position: relative;
                
                > div {
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    height: 100%;
                    width: 100%;
                    z-index: 1;
                }
            }
            
            img {
                vertical-align: text-bottom;
            }
        }
        
        .drawer-toolbar-search {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: -1;

            opacity: 0;

            &.active {
                z-index: 2;
                
                opacity: 1;
                
                ~ .drawer-toolbar-title {
                    opacity: 0;
                }
            }
        }
    }
    
    .drawer-toolbar-tabs {
        margin-top: 10px;
        margin-bottom: 10px;
        
        a.btn {
            width: 100%;            
            text-align: left;
            
            .pull-right {
                margin-left: 3px;
            }
            
            .text-overflow {
                display: block;
            }
        }
        
        .dropdown-menu {
            width: 100%;
        }
    }
}
